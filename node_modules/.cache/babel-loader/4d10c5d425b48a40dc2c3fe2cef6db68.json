{"ast":null,"code":"import _slicedToArray from\"E:/ReactJs/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"../style/app.css\";import Input from\"./Input\";import Button from\"./button\";import{RiDeleteBin6Line,RiEdit2Fill}from\"react-icons/ri\";import useLocalStorage from\"../../API/getFirebaseTODo\";import firebase from\"../../Firebase/firebase_config\";import{useHistory}from\"react-router-dom\";import Modal from\"react-modal\";import Details from\"../Profile/details\";import useDetailsAPI from\"../../API/DetailsAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newInputData=_useState2[0],setNewInputData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),edititem=_useState4[0],updateedititem=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),editinputid=_useState6[0],seteditinputid=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),modalIsOpen=_useState8[0],setModalIsOpen=_useState8[1];var detialsapi=useDetailsAPI();var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),animationvalue=_useState10[0],setAnimation=_useState10[1];var history=useHistory();var _useLocalStorage=useLocalStorage(),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),list=_useLocalStorage2[0],isloading=_useLocalStorage2[1];//custom hooks\nif(!window.localStorage.getItem(\"Info\")){history.push(\"/\");}function getValue(event){setNewInputData(event.target.value);}var updateData=function updateData(){if(!newInputData){alert(\"Please Fill The Data\");}else if(newInputData&&!edititem){var todoref=firebase.database().ref(\"TODO\");todoref.child(editinputid).update({name:newInputData});updateedititem(true);setNewInputData(\"\");seteditinputid(\"\");}else{var _todoref=firebase.database().ref(\"TODO\");var Info=window.localStorage.getItem(\"Info\");var todo={Infoid:JSON.parse(Object(Info)).id,name:newInputData,done:false};_todoref.push(todo);setNewInputData(\"\");}};var logoutFun=function logoutFun(){history.push(\"/\");window.localStorage.removeItem(\"Info\");};var profileFun=function profileFun(){setModalIsOpen(true);};var deleteEle=function deleteEle(index){var todoref=firebase.database().ref(\"TODO\").child(index.id);todoref.remove();};var editEle=function editEle(id){var edit=list.find(function(ele){return ele.id===id;});updateedititem(false);setNewInputData(edit.name);seteditinputid(id);};var cutit=function cutit(linelist){var todoref=firebase.database().ref(\"TODO\").child(linelist.id);todoref.update({done:!linelist.done});};var setModalIsOpenToFalse=function setModalIsOpenToFalse(){setModalIsOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpen,className:\"Modelview\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Modeldiv\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"Modelbutton\",onClick:setModalIsOpenToFalse,children:\"x\"}),/*#__PURE__*/_jsx(Details,{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"profilediv\",children:/*#__PURE__*/_jsx(\"button\",{className:\"profilebutton\",onClick:profileFun,children:\"User\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Logoutdiv\",children:/*#__PURE__*/_jsx(\"button\",{className:\"Logoutbutton\",onClick:logoutFun,children:\"Logout\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Divbody\",children:[/*#__PURE__*/_jsx(Input,{data:newInputData,value:getValue,loading:isloading}),/*#__PURE__*/_jsx(\"div\",{children:list.map(function(listitems,index){return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(animationvalue?'animate':'Itemscard'),onAnimationEnd:function onAnimationEnd(){return setAnimation(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"Showmain\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Show1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:function onClick(){return cutit(listitems);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"Show2\",children:/*#__PURE__*/_jsx(\"h3\",{style:{textDecoration:listitems.done?\"line-through\":\"none\"},children:listitems.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"Show3\",children:/*#__PURE__*/_jsx(\"span\",{title:\"Delete Item\",onClick:function onClick(){setAnimation(true);setTimeout(function(){return deleteEle(listitems);},1000);},children:/*#__PURE__*/_jsx(RiDeleteBin6Line,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"Show4\",children:/*#__PURE__*/_jsx(\"span\",{title:\"Edit Item\",onClick:function onClick(){return editEle(listitems.id);},children:/*#__PURE__*/_jsx(RiEdit2Fill,{})})})]},index)});})}),edititem?/*#__PURE__*/_jsx(Button,{data:updateData}):/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:updateData,children:\"Edit\"})]})]});};export default App;","map":{"version":3,"sources":["E:/ReactJs/my-app/src/component/TODO/App.tsx"],"names":["React","useState","Input","Button","RiDeleteBin6Line","RiEdit2Fill","useLocalStorage","firebase","useHistory","Modal","Details","useDetailsAPI","App","newInputData","setNewInputData","edititem","updateedititem","editinputid","seteditinputid","modalIsOpen","setModalIsOpen","detialsapi","animationvalue","setAnimation","history","list","isloading","window","localStorage","getItem","push","getValue","event","target","value","updateData","alert","todoref","database","ref","child","update","name","Info","todo","Infoid","JSON","parse","Object","id","done","logoutFun","removeItem","profileFun","deleteEle","index","remove","editEle","edit","find","ele","cutit","linelist","setModalIsOpenToFalse","map","listitems","textDecoration","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../style/app.css\";\r\nimport Input from \"./Input\";\r\nimport Button from \"./button\";\r\nimport { RiDeleteBin6Line, RiEdit2Fill } from \"react-icons/ri\";\r\nimport useLocalStorage from \"../../API/getFirebaseTODo\";\r\nimport firebase from \"../../Firebase/firebase_config\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Modal from \"react-modal\";\r\nimport Details from \"../Profile/details\";\r\nimport useDetailsAPI from \"../../API/DetailsAPI\";\r\n\r\n\r\nconst App = () => {\r\n  const [newInputData, setNewInputData] = useState<string>(\"\");\r\n  const [edititem, updateedititem] = useState<boolean>(true);\r\n  const [editinputid, seteditinputid] = useState<string>(\"\");\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  const detialsapi = useDetailsAPI();\r\n  let [animationvalue, setAnimation] = useState<boolean>(false)\r\n\r\n  const history = useHistory();\r\n\r\n  const [list, isloading] = useLocalStorage(); //custom hooks\r\n\r\n  if (!window.localStorage.getItem(\"Info\")) {\r\n    history.push(\"/\");\r\n  }\r\n  function getValue(event: {\r\n    target: { value: React.SetStateAction<string> };\r\n  }) {\r\n    setNewInputData(event.target.value);\r\n  }\r\n\r\n  const updateData = () => {\r\n    if (!newInputData) {\r\n      alert(\"Please Fill The Data\");\r\n    } else if (newInputData && !edititem) {\r\n      const todoref = firebase.database().ref(\"TODO\");\r\n      todoref.child(editinputid).update({\r\n        name: newInputData,\r\n      });\r\n      updateedititem(true);\r\n      setNewInputData(\"\");\r\n      seteditinputid(\"\");\r\n    } else {\r\n      const todoref = firebase.database().ref(\"TODO\");\r\n      const Info = window.localStorage.getItem(\"Info\");\r\n      const todo = {\r\n        Infoid: JSON.parse(Object(Info)).id,\r\n        name: newInputData,\r\n        done: false,\r\n      };\r\n      todoref.push(todo);\r\n      setNewInputData(\"\");\r\n    }\r\n  };\r\n  const logoutFun = () => {\r\n    history.push(\"/\");\r\n    window.localStorage.removeItem(\"Info\");\r\n  };\r\n  const profileFun = () => {\r\n    setModalIsOpen(true);\r\n  };\r\n  const deleteEle = (index: { id: string }) => {\r\n    const todoref = firebase.database().ref(\"TODO\").child(index.id);\r\n    todoref.remove();\r\n  };\r\n  const editEle = (id: string) => {\r\n    let edit = list.find((ele: { id: string }) => {\r\n      return ele.id === id;\r\n    });\r\n    updateedititem(false);\r\n    setNewInputData(edit.name);\r\n    seteditinputid(id);\r\n  };\r\n  const cutit = (linelist: any) => {\r\n    const todoref = firebase.database().ref(\"TODO\").child(linelist.id);\r\n    todoref.update({\r\n      done: !linelist.done,\r\n    });\r\n  };\r\n  const setModalIsOpenToFalse = () => {\r\n    setModalIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal isOpen={modalIsOpen} className=\"Modelview\">\r\n        <div className=\"Modeldiv\">\r\n          <button className=\"Modelbutton\" onClick={setModalIsOpenToFalse}>\r\n            x\r\n          </button>\r\n          <Details />\r\n        </div>\r\n      </Modal>\r\n      <div className=\"profilediv\">\r\n        <button className=\"profilebutton\" onClick={profileFun}>\r\n          User\r\n        </button>\r\n      </div>\r\n      <div className=\"Logoutdiv\">\r\n        <button className=\"Logoutbutton\" onClick={logoutFun}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n      <div className=\"Divbody\">\r\n        <Input data={newInputData} value={getValue} loading={isloading} />\r\n        <div>\r\n          {list.map(\r\n            (\r\n              listitems: {\r\n                done?: boolean;\r\n                name?: string;\r\n                id: string;\r\n                Infoid: string;\r\n              },\r\n              index: React.Key | null | undefined\r\n            ) => {\r\n              return (\r\n                <div className={`${animationvalue ? 'animate' : 'Itemscard'}`} onAnimationEnd={()=>setAnimation(false)}>\r\n                  <div className=\"Showmain\" key={index}>\r\n                    <div className=\"Show1\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        onClick={() => cutit(listitems)}\r\n                      ></input>\r\n                    </div>\r\n                    <div className=\"Show2\">\r\n                      <h3\r\n                        style={{\r\n                          textDecoration: listitems.done\r\n                            ? \"line-through\"\r\n                            : \"none\",\r\n                        }}\r\n                      >\r\n                        {listitems.name}\r\n                      </h3>\r\n                    </div>\r\n                    <div className=\"Show3\">\r\n                      <span\r\n                        title=\"Delete Item\"\r\n                        onClick={() => {\r\n                          setAnimation(true);\r\n                          setTimeout(()=>deleteEle(listitems),1000)}\r\n                        }\r\n                        \r\n                      >\r\n                        <RiDeleteBin6Line />\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"Show4\">\r\n                      <span\r\n                        title=\"Edit Item\"\r\n                        onClick={() => editEle(listitems.id)}\r\n                      >\r\n                        <RiEdit2Fill />\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n          )}\r\n        </div>\r\n        {edititem ? (\r\n          <Button data={updateData} />\r\n        ) : (\r\n          <button className=\"btn\" onClick={updateData}>\r\n            Edit\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}